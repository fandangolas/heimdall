[tool:pytest]
# Integration test configuration - PostgreSQL persistence
testpaths = src/tests/integration
python_files = test_*.py
python_classes = Test*
python_functions = test_*
asyncio_mode = strict
addopts = 
    -v
    --tb=short
    --strict-markers
env = 
    PERSISTENCE_MODE=postgres
    DATABASE_URL=postgresql+asyncpg://heimdall_user:heimdall_secure_password@localhost:5432/heimdall
markers =
    integration: marks tests as integration tests (slower, requires external services)
    postgres: marks tests that specifically require PostgreSQL